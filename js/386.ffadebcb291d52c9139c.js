"use strict";(self.webpackChunkyvelious_github_io=self.webpackChunkyvelious_github_io||[]).push([[386],{386:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(540),s=r(526),n=r(698);const o={nodes:[],links:[]};function i({data:e=o,onLoaded:t}){const r=(0,a.useRef)(),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)({}),[d,f]=(0,a.useState)(new Set),[g,h]=(0,a.useState)({});return(0,a.useEffect)(()=>{t&&t()},[]),(0,a.useEffect)(()=>{if(!e.nodes)return;const t=setInterval(()=>{u(t=>{const r={...t};let a=!1;return e.nodes.forEach(e=>{const s=d.has(e.id)?1:i?0:1,n=t[e.id]??.7,o=n+.1*(s-n);Math.abs(o-n)>.01&&(r[e.id]=o,a=!0)}),a?r:t}),h(t=>{const r={...t};let a=!1;return e.nodes.forEach(e=>{const s=d.has(e.id)?1.3:1,n=t[e.id]??1,o=n+.15*(s-n);Math.abs(o-n)>.01&&(r[e.id]=o,a=!0)}),a?r:t})},30);return()=>clearInterval(t)},[i,d,e.nodes]),(0,a.useEffect)(()=>{r.current&&(r.current.d3Force("charge").strength(e=>"root"===e.group?-100:-300),r.current.d3Force("collide")||r.current.d3Force("collide",n.A()),r.current.d3Force("collide").radius(e=>{switch(e.group){case"root":return 15;case"category":return 55;case"sub-category":return 45;case"element":return 25;default:return 30}}).strength(1),r.current.d3Force("link").distance(t=>{const r=t.source.id??t.source,a=(t.target.id??t.target,e.nodes.find(e=>e.id===r));return a&&"root"===a.group?60:120}))},[e]),a.createElement("div",{style:{width:"100%",height:"100vh"}},a.createElement(s.A,{ref:r,graphData:e,nodeLabel:null,onNodeHover:t=>{if(l(t),t){const r=(t=>{const r=new Set,a=t=>{e.links.forEach((e,s)=>{const n=e.source.id??e.source,o=e.target.id??e.target;n!==t||r.has(o)||(r.add(o),a(o))})};return a(t),r})(t.id);f(new Set([t.id,...r]))}else f(new Set)},onNodeClick:e=>{e&&r.current&&(r.current.centerAt(e.x,e.y,800),r.current.zoom(2.2,1e3))},nodeCanvasObject:(e,t,r)=>{const a=e.label;let s,n,o;const i=c[e.id]??1;switch(e.group){case"root":s=24/r,n=`rgba(255,255,255,${i})`,o="rgba(119, 0, 0, 1)";break;case"category":s=18/r,n=`rgba(119, 0, 0,${i})`,o="#fff";break;case"sub-category":s=16/r,n=`rgba(225, 68, 0,${i})`,o="#fff";break;case"element":s=12/r,o="#000";break;default:s=12/r,n="grey",o="white"}t.font=`${s}px Univers, Arial, sans-serif`,t.measureText(a).width;const l=e.x,u=e.y,f=(d.has(e.id),g[e.id]??1),h=s*f,b=t.measureText(a).width*f,v=1.2*s*f;if("element"!==e.group){const r=b+12,s=v+12,o=l-r/2,c=u-s/2;t.save(),t.globalAlpha=i,t.fillStyle=n;const d=4*f;t.beginPath(),t.moveTo(o+d,c),t.lineTo(o+r-d,c),t.quadraticCurveTo(o+r,c,o+r,c+d),t.lineTo(o+r,c+s-d),t.quadraticCurveTo(o+r,c+s,o+r-d,c+s),t.lineTo(o+d,c+s),t.quadraticCurveTo(o,c+s,o,c+s-d),t.lineTo(o,c+d),t.quadraticCurveTo(o,c,o+d,c),t.closePath(),t.fill(),t.font=`${h}px Univers, Arial, sans-serif`,t.fillStyle="root"===e.group?"#000":"#fff",t.textAlign="center",t.textBaseline="middle",t.fillText(a,l,u),t.restore()}else t.save(),t.globalAlpha=i,t.beginPath(),t.arc(l,u,8*f,0,2*Math.PI,!1),t.fillStyle="rgba(255,255,255,1)",t.fill(),t.lineWidth=2,t.font=`${h}px Verdana, Arial, sans-serif`,t.fillStyle=o,t.textAlign="left",t.textBaseline="middle",t.fillText(a,l+14*f,u),t.restore()},nodePointerAreaPaint:(e,t,r,a)=>{const s=e.label;let n,o;switch(e.group){case"root":n=24/a,o="Univers, Arial, sans-serif";break;case"category":n=18/a,o="Univers, Arial, sans-serif";break;case"sub-category":n=16/a,o="Univers, Arial, sans-serif";break;case"element":n=12/a,o="Verdana, Arial, sans-serif";break;default:n=12/a,o="Univers, Arial, sans-serif"}r.font=`${n}px ${o}`;const i=r.measureText(s).width,l=1.2*n;if("element"!==e.group){const a=i+12,s=l+12,n=4,o=e.x-a/2,c=e.y-s/2;r.fillStyle=t,r.beginPath(),r.moveTo(o+n,c),r.lineTo(o+a-n,c),r.quadraticCurveTo(o+a,c,o+a,c+n),r.lineTo(o+a,c+s-n),r.quadraticCurveTo(o+a,c+s,o+a-n,c+s),r.lineTo(o+n,c+s),r.quadraticCurveTo(o,c+s,o,c+s-n),r.lineTo(o,c+n),r.quadraticCurveTo(o,c,o+n,c),r.closePath(),r.fill()}else r.fillStyle=t,r.fillRect(e.x-i/2,e.y-l/2,i,l)},linkColor:e=>{const t=e.source.id??e.source,r=e.target.id??e.target;return d.has(t)&&d.has(r)?"rgba(255,255,255,1)":"rgba(119,0,0,0.3)"},linkWidth:e=>{const t=e.source.id??e.source,r=e.target.id??e.target;return d.has(t)&&d.has(r)?1:.5}}))}}}]);